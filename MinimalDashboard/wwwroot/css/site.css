@import "https://unpkg.com/open-props";

/* optional imports that use the props */
@import "https://unpkg.com/open-props/normalize.min.css";
@import "https://unpkg.com/open-props/buttons.min.css";
:root {
    interpolate-size: allow-keywords;
   
}
@property --angle0 {
    syntax: "<angle>";
    initial-value: 316deg;
    inherits: false;
}

@keyframes rotate0 {
    to {
        --angle0: -44deg;
    }
}

@property --angle1 {
    syntax: "<angle>";
    initial-value: 351deg;
    inherits: false;
}

@keyframes rotate1 {
    to {
        --angle1: -9deg;
    }
}

@property --angle2 {
    syntax: "<angle>";
    initial-value: 212deg;
    inherits: false;
}

@keyframes rotate2 {
    to {
        --angle2: -148deg;
    }
}

@property --angle3 {
    syntax: "<angle>";
    initial-value: 305deg;
    inherits: false;
}

@keyframes rotate3 {
    to {
        --angle3: -55deg;
    }
}

@property --angle4 {
    syntax: "<angle>";
    initial-value: 135deg;
    inherits: false;
}

@keyframes rotate4 {
    to {
        --angle4: -225deg;
    }
}

@property --angle5 {
    syntax: "<angle>";
    initial-value: 146deg;
    inherits: false;
}

@keyframes rotate5 {
    to {
        --angle5: -214deg;
    }
}

@media (prefers-color-scheme: dark) {
    dialog::backdrop {
        background: radial-gradient( circle at calc(50% * (1 + 0.5 * cos(var(--angle0)))) calc(50% * (1 + 0.5 * sin(var(--angle0)))), #ffd9cd, rgba(0, 0, 0, 0) 35% ), radial-gradient( circle at calc(50% * (1 + 0.5 * cos(var(--angle1)))) calc(50% * (1 + 0.5 * sin(var(--angle1)))), #fce3ee, rgba(0, 0, 0, 0) 35% ), radial-gradient( circle at calc(50% * (1 + 0.5 * cos(var(--angle2)))) calc(50% * (1 + 0.5 * sin(var(--angle2)))), #f2e5ec, rgba(0, 0, 0, 0) 35% ), radial-gradient( circle at calc(50% * (1 + 0.5 * cos(var(--angle3)))) calc(50% * (1 + 0.5 * sin(var(--angle3)))), #dbfff1, rgba(0, 0, 0, 0) 35% ), radial-gradient( circle at calc(50% * (1 + 0.5 * cos(var(--angle4)))) calc(50% * (1 + 0.5 * sin(var(--angle4)))), #ffdedf, rgba(0, 0, 0, 0) 35% ), radial-gradient( circle at calc(50% * (1 + 0.5 * cos(var(--angle5)))) calc(50% * (1 + 0.5 * sin(var(--angle5)))), #cbbdd4, oklch(0.8711 0.0513 334.16 / 79.85%) );
        animation: rotate0 6.5s -1.885s reverse, rotate1 5.5s -4.015s, rotate2 3.5s -2.17s, rotate3 2.5s -2.4s reverse, rotate4 3.5s -0.455s, rotate5 3.5s -2.765s reverse;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
    }

}
header{
    margin-block-end:1.7lh;
    anchor-name:--chapteranchor;
}
.visually-hidden {
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}
a {
    color: light-dark(oklch(0.28 0.13 351.29),oklch(0.8237 0.0612 341.58));
    font-size:1.6rem;
    font-weight: 700;
    text-decoration: none;
    transition: all 1s allow-discrete;
    &:hover

{
    color: #df0097;
    filter: url("#wiggle");
    text-decoration: underline;
    text-decoration-thickness: 0.075em;
    text-underline-offset: 0.125em;
}
}
    nav {
    display: flex;
    
    flex-wrap: wrap;
  
    gap: 1ch;
    justify-content:space-between;
   
}
    nav ul {
        display: flex;
        list-style: none;
        gap:2.5ch;
        
    }
main {
    
    min-height: 50vh;
    &:has(details[open])

{
    min-height:300vh;
}

}
.accordian-wrapper {

    display: flex;
    flex-wrap: wrap;
    flex-shrink: 0;
    gap: 1ch;
    max-width:82vw;
    position:relative;

    anchor-name: --anchor;
    padding-block-end:2.3lh;
    
    
  }
summary {
    cursor: pointer;
    padding: 1.32ch;
    text-box: cap alphabetic;
    font-family: tahoma, arial, verdana;
    font-size: 0.9rem;
    list-style: none;
    place-self: end;
    corner-shape: bevel;
    align-content: center;
    border: 0.1vmin solid currentcolor;
    transition: all 150ms ease-in-out;
}
    summary:hover {
        color: light-dark(oklch(0.2253 0.1 292.87),oklch(0.8187 0.0714 271.69));
        border-radius: 0.5ch;
        box-shadow: var(--shadow-3);
    }
    summary:hover #edit-btn {
        display:inline-block;
      
    }
#edit-btn {
    display:none;
    transition: all 0.3s allow-discrete;
    cursor: pointer;
    background: transparent;
    border: none;
    color: currentcolor;
    font-size: 1.2rem;
}
sup {
    font-size: 1.2em;
    color: oklch(0.3115 0.0242 341.58);
}

details {

    background:transparent;
 
}
    details[name="subject"] > summary {
        
        animation: bob 2s infinite, sway 2s infinite, nod 0.5s infinite linear alternate;
        animation-composition: accumulate;
        animation-composition: add;
        animation-composition: replace;
        animation-fill-mode: forwards;
        animation-delay: calc(sibling-index() * 5000ms);
        &:hover{
                   animation-play-state:paused;
               }
    }
details[name="chapters"][open]:has(details)::details-content {
    width: 60vw;
    display: flex;
    flex-wrap: wrap;
    flex-shrink: 0;
    gap: 1ch;
    --has-topic: true;
}

details[name="subject"][open]::details-content {
    /* Like 100%, but ignores padding */
    /* Relative to container */

    position: fixed;
    position-anchor: --chapteranchor;
    position-area: bottom span-left;
}
details[name="chapters"][open]::details-content {
    /* Like 100%, but ignores padding */
    /* Relative to container */

    position: fixed;
    position-anchor: --anchor;
    position-area: block-end ;
}
.topicend::after {
    display: block;
    content: "";
    position: relative;
    anchor-name: --booktopic;
    height: 3lh;
    background: red;
}
    
    
   

details[name="topics"][open]::details-content {
    /* Like 100%, but ignores padding */
    /* Relative to container */
    isolation: isolate;
    position: absolute;
    position-anchor: --booktopic;
    position-area: bottom;
    
}
.book-wrapper {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(min(100%,20ch),1fr));
    gap: 3ch;
    max-width: 70vw;
   
    

   
}
.book {
    display: grid;
    grid-template-rows: subgrid;
    gap: 0.7ch;
    padding: 1ch;
    grid-row: span 4;
    aspect-ratio: 4/3;
    
    background: light-dark(oklch(0.9312 0.0714 171.11),oklch(36.6% 0.330 185));
    position: relative;
    border: 0.21vmin solid currentcolor;
    transition: all 150ms ease-in-out;
    &:hover
{
    background: light-dark(oklch(0.8165 0.0834 346.87),oklch(0.3162 0.039 41.93));
    
}
&:active{
    scale:0.97;
}
    &::after

{
    
    background-image: linear-gradient( 45deg, #fff 33.33%, rgba(0, 0, 0, 0.95) 33.33%, rgba(0, 0, 0, 0.95) 50%, #fff 50%, #fff 83.33%, rgba(0, 0, 0, 0.95) 83.33%, rgba(0, 0, 0, 0.95) 100% );
    content: "";
    display: block;
    position: absolute;
    z-index: -2;
    top: .75rem;
    left: 0.75rem;
    width: 100%;
    height: 100%;
    background-size: var(--bgsize, 0.28rem) var(--bgsize, 0.28rem);
}
    p
{
    font-size: 0.7rem;
    -webkit-line-clamp: 5;
}
           h4{
               font-size:0.8rem;
           }
span {
    border: 0.21vmin solid currentcolor;
    max-width: fit-content;
    border-radius: 2vmin;
    background: light-dark(oklch(0.8165 0.1006 128.75 / 83.95%),oklch(0.5387 0.0635 27.11 / 83.95%));
    font-size: 0.4rem;
    padding: 1.2ch;
}

}
.Book {
    transition-property: opacity,translate;
    transition-delay: calc(sibling-index() * 100ms);
    transition-behavior: allow-discrete;

    @starting-style {
        opacity: 0;
        translate: -100px 0;
    }
}
.book button{
    all:unset;
    cursor:pointer;
}
    .book button::after {
        content: '';
        position: absolute;
        inset: 0;
        
      
        touch-action: manipulation;
    }
details[open] summary {
    background: light-dark(oklch(0.9136 0.0266 87.46),oklch(0.1787 0.0809 279.11));
}
details[name="chapters"][open] summary {
    background: light-dark(oklch(0.9019 0.0168 131.93),oklch(0.257 0.0168 131.93));
}
details[name="topics"][open] summary {
    background: light-dark(oklch(0.9019 0.0538 329.93),oklch(0.6008 0.2412 347.93));
}

dialog{
    place-self:center;
    max-width:60vw;
    padding:4ch;

}
dialog form{
    display:grid;
    flex-direction:column;
    flex-shrink:0;
    gap:1ch;
    >*{
          max-inline-size:fit-content;
          flex:0;
      }

}


#sunburst {
    max-width: 100vw;
    overflow-x: auto;
}

@keyframes bob {
    50% {
        translate: 0 0.5rem;
    }
}

@keyframes sway {
    50% {
        translate: 0.5rem 0;
    }
}

@keyframes nod {
    0% {
        rotate: -0.71deg;
    }

    100% {
        rotate: 0.71deg;
    }
}
